<div
  class="window"
  [id]="'window-' + window.id"
  [class.active]="window.isActive"
  [class.minimized]="window.isMinimized"
  [class.maximized]="window.isMaximized"
  [class.dragging]="isDragging"
  [style.transform]="getTransformStyle()"
  [style.width.px]="window.width"
  [style.height.px]="window.height"
  [style.z-index]="window.zIndex"
  (pointerdown)="onWindowClick()"
>
  <div
    class="window-header"
    (pointerdown)="startDragging($event)"
    [class.dragging]="isDragging"
  >
    <span class="window-title">{{ window.title }}</span>
    <div class="window-controls">
      <button class="minimize-btn" (pointerup)="minimizeWindow()">
        <span class="icon">_</span>
      </button>
      <button class="maximize-btn" (pointerup)="maximizeWindow()">
        <span class="icon">□</span>
      </button>
      <button class="close-btn" (pointerup)="closeWindow()">
        <span class="icon">×</span>
      </button>
    </div>
  </div>
  <div class="window-content">
    <ng-container *ngComponentOutlet="window.component"></ng-container>
  </div>
</div>
